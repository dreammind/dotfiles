
export EDITOR="vim"

# erasedups: 全履歴に渡り重複コマンドを削除します
HISTCONTROL=erasedups
HISTIGNORE=history:ls:pwd:jobs:fg:exit
HISTSIZE=40000
HISTFILESIZE=60000

#
parse_git_branch() {
  git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/(\1)/'
}

# bind
if [ "$PS1" != "" ]; then
  bind '"\C-p": history-search-backward'
  bind '"\C-n": history-search-forward'
  PS1="@\h:[\W]\$(parse_git_branch)\$ "
fi

if test -x "/usr/local/bin/ctags"; then
  alias   ctags='/usr/local/bin/ctags'
fi

if test -x "$(which go 2>/dev/null)"; then
  export GOPATH=$HOME/.go
  export PATH=$PATH:$GOPATH/bin
  if ! test -d $GOPATH; then
    mkdir -p $GOPATH
  fi
fi

uname=$(uname)
if [ "$uname" = "Darwin" ]; then
  if [ -f "/usr/libexec/java_home" ]; then
    export JAVA_HOME=`/usr/libexec/java_home`
  fi
fi

if [ "$PS1" != "" ]; then
  if [ "$uname" = "Linux" -o "$uname" = "CYGWIN_NT-6.1" ]; then
    eval `dircolors -b ~/.dircolors`
    alias ls="ls --color=auto"
  elif [ "$uname" = "Darwin" ]; then
    export LSCOLORS=gxfxcxdxCxegedabagacad
    alias  ls='ls -Gh'
  fi
fi


CDPATH=$HOME/ws

alias   vi='vim'
alias   pd='pushd' # push directory
alias   bd='popd'  # back directory

alias   df='df -h'
alias   du='du -h'
alias   mkdir='mkdir -p'
alias   grep='grep --color'
alias   be='bundle exec'
#
alias   ceall='find . -name "*~" | xargs /bin/rm -f'
#alias   ls='ls --color=tty'
alias   z='suspend'
alias   less='lv'
alias   mv='mv -i'
alias   cp='cp -i'
alias   j='jobs -l'

alias   h='history'
alias   psa='ps auxww'
alias   cls='clear'
